#!/bin/bash

#----------------------------------------------
# Select the matrix list file name
#----------------------------------------------
LIST=matrix_lists/symetric.txt
#----------------------------------------------

#----------------------------------------------
# Select the matrix format. Avail:
#    [*] csr
#    [*] csr_base
#    [*] sellp
#----------------------------------------------
MODE=sellp
#----------------------------------------------

#----------------------------------------------
# Select the output path
#----------------------------------------------
OUT=output
#----------------------------------------------


BIND="taskset -c 0 "

mkdir -p $OUT

n=$(ls -l $OUT | wc -l)

$BIND ./build/spmv "$MODE" "$LIST" "$OUT/$n.csv"

